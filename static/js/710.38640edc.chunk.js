"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[710],{964:function(e,n,t){t.d(n,{Bd:function(){return c},T$:function(){return o},cl:function(){return s},fI:function(){return u},u_:function(){return a}});var r=t(294).Z.create({baseURL:"https://api.themoviedb.org",method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyYjY0NzdhNWJlYzBjZDMxODg3YzI0Mjc4YTk2OTc0YSIsInN1YiI6IjY1NTY1YjMzNjdiNjEzNDVjY2FmNjRjZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.qm6bCbKSjQCJ3o_hxKCB1vDtvimoS_GCFv44Y1Q5P3Y"}}),a=function(e){return r.get("/3/movie/".concat(e,"?language=en-US"))},c=function(){return r.get("/3/trending/all/day?language=en-US")},s=function(e){return r.get("/3/search/movie?query=".concat(e,"&include_adult=false&language=en-US&page=1"))},o=function(e){return r.get("/3/movie/".concat(e,"/credits?language=en-US"))},u=function(e){return r.get("/3/movie/".concat(e,"/reviews?language=en-US"))}},179:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var r=t(433),a=t(861),c=t(439),s=t(757),o=t.n(s),u=t(791),i="button_btn__HeAxz",l=t(184),h=function(e){var n=e.onClick,t=e.type,r=void 0===t?"submit":t,a=e.children;return(0,l.jsx)("button",{onClick:n,type:r,className:i,children:a})},f=t(942),d=t(413),p="posts-search-form_form__-GosI",m="posts-search-form_fieldGroup__XdT+v",v=function(e){var n=e.onSubmit,t=(0,u.useState)({search:""}),r=(0,c.Z)(t,2),a=r[0],s=r[1],o=(0,u.useRef)(null);(0,u.useEffect)((function(){o.current.focus()}),[]);var i=function(){s({search:""})},h=(0,u.useMemo)((function(){return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,n="",t=crypto.getRandomValues(new Uint8Array(e));e--;){var r=63&t[e];n+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return n}()}),[]);return(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n((0,d.Z)({},a)),i()},className:p,children:[(0,l.jsxs)("div",{className:m,children:[(0,l.jsx)("label",{htmlFor:h}),(0,l.jsx)("input",{id:h,ref:o,value:a.search,onChange:function(e){var n=e.target,t=n.name,r=n.value;s((0,d.Z)((0,d.Z)({},a),{},(0,f.Z)({},t,r)))},required:!0,type:"text",name:"search",placeholder:"Enter search phrase"})]}),(0,l.jsx)("button",{type:"submit",children:"Search"})]})},g="posts-search-list_list__JqkA2",j="posts-search-list_item__nlgo+",_=t(689),x=t(87),b=function(e){var n=e.items,t=(0,_.TH)(),r=n.map((function(e){var n=e.id,r=e.title;return(0,l.jsx)("li",{className:j,children:(0,l.jsx)(x.rU,{to:"/posts/".concat(n),state:{from:t},children:r})},n)}));return console.log(r),(0,l.jsx)("ul",{className:g,children:r})},S=t(964),N="posts-search_error__rnQ3b",Z="posts-search_loadMoreWrapper__Cw9E9",y=function(){var e=(0,u.useState)([]),n=(0,c.Z)(e,2),t=n[0],s=n[1],i=(0,u.useState)(!1),f=(0,c.Z)(i,2),d=f[0],p=f[1],m=(0,u.useState)(null),g=(0,c.Z)(m,2),j=g[0],_=g[1],y=(0,x.lr)(),C=(0,c.Z)(y,2),I=C[0],k=C[1],Y=I.get("search"),J=I.get("page");console.log(Y),(0,u.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,(0,S.cl)(Y,J);case 4:n=e.sent,t=n.data,s((function(e){var n;return null!==(n=t.results)&&void 0!==n&&n.length?[].concat((0,r.Z)(e),(0,r.Z)(t.results)):e})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),_(e.t0.message);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();Y&&e()}),[Y,J]);var U=Boolean(t.length);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v,{onSubmit:function(e){var n=e.search;k({search:n,page:1}),s([])}}),j&&(0,l.jsx)("p",{className:N,children:j}),d&&(0,l.jsx)("p",{children:"...Loading"}),U&&(0,l.jsx)(b,{items:t}),U&&(0,l.jsx)("div",{className:Z,children:(0,l.jsx)(h,{onClick:function(){return k({search:Y,page:Number(J)+1})},type:"button",children:"Load more"})})]})},C=function(){return(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{children:" Movie Page"}),(0,l.jsx)(y,{})]})}}}]);
//# sourceMappingURL=710.38640edc.chunk.js.map